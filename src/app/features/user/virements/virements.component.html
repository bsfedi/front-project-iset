<div class="container">
  <app-left-bar></app-left-bar>
  <div class="second-container">


    <div style="display: flex">

      <div class="title">
        Mes Virements
      </div>
    </div>
    <br />

    <div id="chart" *ngIf="show_chart ">
      <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart" [xaxis]="chartOptions.xaxis"
        [dataLabels]="chartOptions.dataLabels" [grid]="chartOptions.grid" [stroke]="chartOptions.stroke"
        [colors]="chartOptions.colors" [title]="chartOptions.title" [yaxis]="chartOptions.yaxis"
        [fill]="chartOptions.fill"></apx-chart>
    </div>



    <div class="transaction-header">


      <select [(ngModel)]="selectedType" (change)="filterByType(selectedType,date)">
        <option value="all">Tous les virements</option>
        <option value="Participation">Participation</option>
        <option value="Cooptation">Cooptation</option>
        <option value="Frais">Frais</option>
      </select>
      <select [(ngModel)]="date" (change)="filterByType(selectedType,date)">
        <option value="today">Aujourd’hui</option>
        <option value="7days">7 Derniers Jours</option>
        <option value="month">Dernier mois</option>
        <option value="year">Dernière Année</option>
      </select>

    </div>
    <br><br><br><br>
    <div class="mobile"><br><br></div>
    <div class="table-wrapper">
      <table>
        <thead>

          <th style="border-radius: 0.6875rem 0rem 0rem 0rem">Date</th>
          <th>Type</th>
          <th style="border-radius: 0rem 0.6875rem 0rem 0rem">Montant</th>

        </thead>
        <tbody>
          <tr *ngFor="let item of getDisplayeddocs()">
            <td>{{ item.createdAt.split("T")[0] }}</td>
            <td>{{ item.typeVirement }}</td>
            <td>{{ item.montant }}€</td>
          </tr>

          <!-- Repeat this row for other transactions -->
          <!-- ... other transactions ... -->
        </tbody>
      </table>
    </div>

    <div class="pagination">
      <div (click)="previousPage()" style="cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
          class="bi bi-chevron-double-left" viewBox="0 0 16 16">
          <path fill-rule="evenodd"
            d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0" />
          <path fill-rule="evenodd"
            d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0" />
        </svg>
      </div>


      <span style="margin-top: 10px;"> {{ currentPage }} sur {{ totalPages }}</span>
      <div (click)="nextPage()" style="cursor: pointer;">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
          class="bi bi-chevron-double-right" viewBox="0 0 16 16">
          <path fill-rule="evenodd"
            d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708" />
          <path fill-rule="evenodd"
            d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708" />
        </svg>
      </div>

    </div>

  </div>

  <div class="right-item">
    <div style="display: flex;margin-bottom: 0px;">
      <div class="profil1" (click)="shownotif()" style="cursor: pointer;">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="31" viewBox="0 0 32 31" fill="none">
            <path
              d="M23.2203 20.62C23.2203 21.47 22.5303 22.16 21.6803 22.16H8.32027C7.47027 22.16 6.78027 21.47 6.78027 20.62C6.78027 19.77 7.47027 19.08 8.32027 19.08H8.83027V13.94C8.83027 10.54 11.5903 7.77002 15.0003 7.77002C16.7003 7.77002 18.2403 8.46002 19.3603 9.58002C20.4803 10.69 21.1703 12.23 21.1703 13.94V19.08H21.6803C22.5303 19.08 23.2203 19.77 23.2203 20.62Z"
              stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path d="M15 7.78V6.75" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <path
              d="M18.0799 22.1699C18.0799 23.8799 16.6999 25.2499 14.9999 25.2499C13.2999 25.2499 11.9199 23.8699 11.9199 22.1699H18.0799Z"
              stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            <circle cx="21.5" cy="7.5" r="4.5" fill="#F33A2A"
              *ngIf="notification.length > 0 || new_notif === 'true' " />
          </svg>
        </div>
        <div>
          <div style="width: 240px; margin-top: 10px; font-size: 0.8125rem">
            <b> Toutes les notifications </b>
          </div>
          <div style="
              color: rgba(0, 0, 0, 0.52);
  
              font-size: 0.8125rem;
              font-style: normal;
              font-weight: 400;
  
              line-height: 100%; /* 0.8125rem */
            ">
            {{ nblastnotifications }} notifications
          </div>
        </div>

      </div>
      <div class="profil" (click)="gotomyprofile()" style="cursor: pointer;">
        <img src="/assets/avatar-user.png" width="15%" height="10%" />
        <div class="nom-prenom">{{res2.firstName}} {{res2.lastName}} <br>

        </div>

      </div>
    </div>
    <app-notification *ngIf="shownotiff"></app-notification>
  </div>
</div>